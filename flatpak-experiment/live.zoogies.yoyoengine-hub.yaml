id: live.zoogies.yoyoengine-hub
runtime: org.freedesktop.Platform
runtime-version: '23.08'
sdk: org.freedesktop.Sdk
command: yoyoengine-hub

modules:
  - python3-requirements.json
  - name: yoyoengine-hub
    buildsystem: simple
    build-commands:
      # - pip3 install -r requirements.txt
      - pyinstaller --onefile --name yoyoengine-hub --collect-data sv_ttk --collect-data desktop_notifier --icon media/yoyoengine.ico --add-data "media/smallcleanlogo.png:." --add-data "media/cleanlogo.png:." --add-data "media/smallesttextlogo.png:." src/main.py
      - mkdir -p /app/bin
      - mv dist/yoyoengine-hub /app/bin/yoyoengine-hub
      - install -Dm644 media/flaticon.png /app/share/icons/hicolor/512x512/apps/${FLATPAK_ID}.png
      - install -Dm644 ${FLATPAK_ID}.desktop -t /app/share/applications
    # sources:
    #   - type: git
    #     url: https://github.com/yoyoengine/launcher.git
    #     branch: main
    sources:
      - type: dir
        path: .